import {
  CodeSurferColumnLayout,
  Step,
  Code,
  nightOwl as hooksTheme,
} from "code-surfer";
export { vsDarkFull as theme } from "code-surfer";
import GreetingLoader from "./src/greeting-loader";
import { Image, Notes } from "mdx-deck";

# Flash : from Express to Nest

Sharing a js adventure based on a true story

<Notes>
  Petit intro, je dis qui je suis, je me présente
</Notes>

---

Présentation

---

# Flash

Trello is a card-based organizational tool.
Flash is part of Trello ecosystem, it empowers user to track their leadtime.

<Notes>
  Express + Glitch
</Notes>

---

Diagram explication Trello API <-> Flash API <-> Trello Client

---

<CodeSurferColumnLayout sizes={[1]}>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.1.1.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Contacting trello API">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.1.2.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
  <Step subtitle="Formating result and handling errors">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.1.3.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
  <Step subtitle="Writting data processing logic">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.1.4.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
  <Step subtitle="Deporting logic in dedicated service">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.1.4.js")
          .default
      }
      lang="js"
      focus="1:71"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
</CodeSurferColumnLayout>

---

# Flash was born

---

# 3 months later

New adopters in the company. Increased traffic
Additional features requested
Bug reports increasing
New developers onboarded in the team
No idea on API consumption and error rates

---

Prototyping does not enforce code quality and maintanibility

---

# Why NestJS

Stick with node.js stack
Experienced with Lodash
Theodo's emulation to have a solid framework to answer node.js bids

---

<CodeSurferColumnLayout sizes={[1]}>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.2.1.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Contacting trello API">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.2.2.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
  <Step subtitle="Contacting trello API">
    <Code
      code={
        require("!!raw-loader!./src/flash.glitch.2.3.js")
          .default
      }
      lang="js"
    />
    <Notes>
      Cum cu cetero option utroque. Ex duo velit ponderum,
      iisque mnesarchum ex est, te quem consul recteque his.
      Mei ut postea diceret accumsan.
    </Notes>
  </Step>
</CodeSurferColumnLayout>

---

Scoped dependancy injection

---

<CodeSurferColumnLayout sizes={[1]}>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.1.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.2.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.3.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.4.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.5.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.6.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.7.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.8.ts")
          .default
      }
      lang="ts"
      focus="7:9"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.9.ts")
          .default
      }
      lang="ts"
      focus="7"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
</CodeSurferColumnLayout>

---

Custom decorator

---

<CodeSurferColumnLayout sizes={[1]}>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.9.ts")
          .default
      }
      lang="ts"
      focus="14,16"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.di.1.10.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.decorator.1.1.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.decorator.2.1.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
  <Step subtitle="Starting simple">
    <Code
      code={
        require("!!raw-loader!./src/flash.nest.decorator.3.1.ts")
          .default
      }
      lang="ts"
    />
    <Notes>
      Première version de l'app
    </Notes>
  </Step>
</CodeSurferColumnLayout>

---

Partie interceptor et filter

---

# Thank you

---